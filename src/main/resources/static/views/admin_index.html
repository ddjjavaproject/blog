<!DOCTYPE html>
<!-- saved from url=(0043)https://www.layui.com/admin/std/dist/views/ -->
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>管理后台</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <link rel="stylesheet" href="/layui-2.4.2/layui/css/layui.css" media="all">
    <link rel="stylesheet" href="/css/admin.css" media="all">
    <link id="layuicss-layer" rel="stylesheet" href="/layui-2.4.2/layui/css/layer.css" media="all">

    <script src="/js/jquery.min.js"></script>
    <script src="/js/customerpackage.js"></script>
    <script src="/layui-2.4.2/layui/layui.js"></script>
  </head>
<body class="layui-layout-body" layadmin-themealias="default">
  
  <div id="LAY_app">
    <div class="layui-layout layui-layout-admin">
      <div class="layui-header">
        <!-- 头部区域 -->
        <ul class="layui-nav layui-layout-left">
          <li class="layui-nav-item layadmin-flexible" lay-unselect="">
            <a href="javascript:;" layadmin-event="flexible" title="侧边伸缩">
              <i class="layui-icon layui-icon-shrink-right" id="LAY_app_flexible"></i>
            </a>
          </li>
          <li class="layui-nav-item layui-hide-xs" lay-unselect="">
            <a href="http://www.layui.com/admin/" target="_blank" title="前台">
              <i class="layui-icon layui-icon-website"></i>
            </a>
          </li>
          <li class="layui-nav-item" lay-unselect="">
            <a href="javascript:;" layadmin-event="refresh" title="刷新">
              <i class="layui-icon layui-icon-refresh-3"></i>
            </a>
          </li>
          <li class="layui-nav-item layui-hide-xs" lay-unselect="">
            <input type="text" placeholder="搜索..." autocomplete="off" class="layui-input layui-input-search" layadmin-event="serach" lay-action="template/search.html?keywords="> 
          </li>
        <span class="layui-nav-bar"></span></ul>
        <ul class="layui-nav layui-layout-right" lay-filter="layadmin-layout-right">
          
          <li class="layui-nav-item" lay-unselect="">
            <a lay-href="app/message/index.html" layadmin-event="message" lay-text="消息中心">
              <i class="layui-icon layui-icon-notice"></i>  
              
              <!-- 如果有新消息，则显示小圆点 -->
              <span class="layui-badge-dot"></span>
            </a>
          </li>
          <li class="layui-nav-item layui-hide-xs" lay-unselect="">
            <a href="javascript:;" layadmin-event="theme">
              <i class="layui-icon layui-icon-theme"></i>
            </a>
          </li>
          <li class="layui-nav-item layui-hide-xs" lay-unselect="">
            <a href="javascript:;" layadmin-event="note">
              <i class="layui-icon layui-icon-note"></i>
            </a>
          </li>
          <li class="layui-nav-item layui-hide-xs" lay-unselect="">
            <a href="javascript:;" layadmin-event="fullscreen">
              <i class="layui-icon layui-icon-screen-full"></i>
            </a>
          </li>
          <li class="layui-nav-item" lay-unselect="">
            <a href="javascript:;">
              <cite>贤心</cite>
            <span class="layui-nav-more"></span></a>
            <dl class="layui-nav-child">
              <dd><a lay-href="set/user/info.html">基本资料</a></dd>
              <dd><a lay-href="set/user/password.html">修改密码</a></dd>
              <hr>
              <dd layadmin-event="logout" style="text-align: center;"><a>退出</a></dd>
            </dl>
          </li>
          
          <li class="layui-nav-item layui-hide-xs" lay-unselect="">
            <a href="javascript:;" layadmin-event="about"><i class="layui-icon layui-icon-more-vertical"></i></a>
          </li>
          <li class="layui-nav-item layui-show-xs-inline-block layui-hide-sm" lay-unselect="">
            <a href="javascript:;" layadmin-event="more"><i class="layui-icon layui-icon-more-vertical"></i></a>
          </li>
        <span class="layui-nav-bar"></span></ul>
      </div>
      
      <!-- 侧边菜单 -->
      <div class="layui-side layui-side-menu">
        <div class="layui-side-scroll">
          <div class="layui-logo" lay-href="home/console.html">
            <span>管理后台</span>
          </div>
          
          <ul class="layui-nav layui-nav-tree" lay-shrink="all" id="LAY-system-side-menu" lay-filter="layadmin-system-side-menu">
          </ul>
        </div>
      </div>

      <!-- 页面标签 -->
      <div class="layadmin-pagetabs" id="LAY_app_tabs">
        <div class="layui-icon layadmin-tabs-control layui-icon-prev" layadmin-event="leftPage"></div>
        <div class="layui-icon layadmin-tabs-control layui-icon-next" layadmin-event="rightPage"></div>
        <div class="layui-icon layadmin-tabs-control layui-icon-down">
          <ul class="layui-nav layadmin-tabs-select" lay-filter="layadmin-pagetabs-nav">
            <li class="layui-nav-item" lay-unselect="">
              <a href="javascript:;"><span class="layui-nav-more"></span></a>
              <dl class="layui-nav-child layui-anim-fadein">
                <dd layadmin-event="closeThisTabs"><a href="javascript:;">关闭当前标签页</a></dd>
                <dd layadmin-event="closeOtherTabs"><a href="javascript:;">关闭其它标签页</a></dd>
                <dd layadmin-event="closeAllTabs"><a href="javascript:;">关闭全部标签页</a></dd>
              </dl>
            </li>
          <span class="layui-nav-bar"></span></ul>
        </div>
        <div class="layui-tab" lay-unauto="" lay-allowclose="true" lay-filter="layadmin-layout-tabs">
          <ul class="layui-tab-title" id="LAY_app_tabsheader">
            <li lay-id="./console.html" lay-attr="./console.html" class="layui-this"><i class="layui-icon layui-icon-home"></i><i class="layui-icon layui-unselect layui-tab-close">ဆ</i></li>
          </ul>
        </div>
      </div>
      
      
      <!-- 主体内容 -->
      <div class="layui-body" id="LAY_app_body">
        <div class="layadmin-tabsbody-item layui-show">
          <iframe src="/console" frameborder="0" class="layadmin-iframe"></iframe>
        </div>
      </div>
      
      <!-- 辅助元素，一般用于移动设备下遮罩 -->
      <div class="layadmin-body-shade" layadmin-event="shade"></div>
    </div>
  </div>
  <script>
  layui.config({
    base: '/layui-2.4.2/' //静态资源所在路径
  }).extend({
    index: 'lib/index' //主入口模块
  }).use('index');
  window.menu = '';
  window.initMenu = '';
  layui.use(['layer', 'form','element'],function(){
    var layer = layui.layer,$ = layui.$, element = layui.element;
    $.ajax({
      url:'/user/functionList',
      data:{},
      type:'get',
      dataType:'json',
      async:false,
      success:function(result){
        var menuStr = result.data;
        initMenu = menuStr;
        menuChildren(menuStr,1,true);
        $("#LAY-system-side-menu").append(menu);
        //初始化动态元素，一些动态生成的元素如果不设置初始化，将不会有默认的动态效果
        element.init();
      }
    });
  });

  /**
   * 根据级别 最高级别三级
   * @param menuStr
   * @param level
   */
  function menuChildren(menuStr, level, order){
    $.each(menuStr, function(i, item){
      if(level == 1){
        /*if(i == 0){
          menu += '<li data-name="'+item.name+'" class="layui-nav-item layui-nav-itemed">\n' +
                  '<a href="javascript:;" lay-tips="'+item.name+'" lay-direction="'+item.children.length+'">\n' +
                  '                <i class="layui-icon layui-icon-app"></i>\n' +
                  '                <cite>'+item.name+'</cite>\n' +
                  '              <span class="layui-nav-more"></span>\n</a>\n';
        }else{*/
          menu += '<li data-name="'+item.name+'" class="layui-nav-item">\n' +
                  '<a href="javascript:;" lay-tips="'+item.name+'" lay-direction="'+item.children.length+'">\n' +
                  '                <i class="layui-icon layui-icon-app"></i>\n' +
                  '                <cite>'+item.name+'</cite>\n' +
                  '              <span class="layui-nav-more"></span>\n</a>\n';
        // }
        menuChildren(item.children, 2, true);
      }else if(level == 2){
        if(item.children.length>0){
          menu += '<dl class="layui-nav-child">\n' +
                  ' <dd data-name="content">\n' +
                  '   <a href="javascript:;">'+item.name+'<span class="layui-nav-more"></span></a>\n' +
                  '     <dl class="layui-nav-child">\n';
          menuChildren(item.children, 3, true);
        }else{
          // if(i == 0){
          //   menu += '<dl class="layui-nav-child">\n' +
          //           '<dd class="layui-nav-itemed layui-this">\n' +
          //           '<a lay-href="'+item.url+'">'+item.name+'</a>\n' +
          //           '</dd>\n';
          // }else{
            menu += '<dl class="layui-nav-child">\n' +
                    '<dd class="layui-nav-itemed">\n' +
                    '<a lay-href="'+item.url+'">'+item.name+'</a>\n' +
                    '</dd>\n';
          // }
          menuChildren(item.children, 3, false);
        }
      }else{
        menu += '<dd data-name="'+item.name+'"><a lay-href="'+item.url+'">'+item.name+'</a></dd>\n';
      }
    });
    if(level == 1){
      menu += '</li>';
    }else if(level == 2){

    }else if(level == 3){
      if(order){
        menu += '</dl>\n</dd>\n</dl>\n';
      }else{
        menu += '</dl>\n';
      }
    }
  }
  </script>
<style id="LAY_layadmin_theme">.layui-side-menu,.layadmin-pagetabs .layui-tab-title li:after,.layadmin-pagetabs .layui-tab-title li.layui-this:after,.layui-layer-admin .layui-layer-title,.layadmin-side-shrink .layui-side-menu .layui-nav>.layui-nav-item>.layui-nav-child{background-color:#20222A !important;}.layui-nav-tree .layui-this,.layui-nav-tree .layui-this>a,.layui-nav-tree .layui-nav-child dd.layui-this,.layui-nav-tree .layui-nav-child dd.layui-this a{background-color:#009688 !important;}.layui-layout-admin .layui-logo{background-color:#20222A !important;}</style></body></html>